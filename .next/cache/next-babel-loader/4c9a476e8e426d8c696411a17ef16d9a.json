{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\AKIRA\\\\Desktop\\\\web-demo\\\\Project\\\\Frontend-next-js-V1\\\\src\\\\components\\\\Admin.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { useQuery } from '@apollo/client';\nimport styled from 'styled-components';\nimport Loader from 'react-loader-spinner';\nimport AdminRow from './AdminRow';\nimport { QUERY_USERS } from '../apollo/queries';\nimport { isSuperAdmin } from '../helpers/authHelpers';\nvar Div = styled.div.withConfig({\n  displayName: \"Admin__Div\",\n  componentId: \"ihssk7-0\"\n})([\"width:100%;\"]);\n_c = Div;\nvar Table = styled.table.withConfig({\n  displayName: \"Admin__Table\",\n  componentId: \"ihssk7-1\"\n})([\"width:100%;border-spacing:0;border-collapse:collapse;th{border:1px solid \", \";margin:0;font-weight:800;}td{border:1px solid \", \";margin:0;padding:0.5rem;font-weight:400;text-align:center;.true{color:\", \";}.false{color:red;}.role_action{margin:0;padding:0;display:flex;justify-content:space-around;border:none;button{margin:0;padding:0.3rem;}}}.td_role{background:\", \";}\"], function (props) {\n  return props.theme.colors.lightGrey;\n}, function (props) {\n  return props.theme.colors.lightGrey;\n}, function (props) {\n  return props.theme.colors.teal;\n}, function (props) {\n  return props.theme.colors.lighterGrey;\n});\n_c2 = Table;\n\nvar Admin = function Admin(_ref) {\n  _s();\n\n  var admin = _ref.admin;\n\n  var _useQuery = useQuery(QUERY_USERS, {\n    fetchPolicy: 'network-only'\n  }),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error;\n\n  return loading ? __jsx(Loader, {\n    type: \"Oval\",\n    color: \"teal\",\n    width: 50,\n    height: 50,\n    timeout: 30000,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }) : error ? __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, \"Sorry, something went wrong\") : __jsx(Div, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, \"Permission Management\"), __jsx(Table, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, __jsx(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, __jsx(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, __jsx(\"th\", {\n    rowSpan: 2,\n    style: {\n      width: '25%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, \"Name\"), __jsx(\"th\", {\n    rowSpan: 2,\n    style: {\n      width: '20%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, \"Email\"), __jsx(\"th\", {\n    rowSpan: 2,\n    style: {\n      width: '15%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, \"Created At\"), isSuperAdmin(admin) && __jsx(React.Fragment, null, __jsx(\"th\", {\n    colSpan: 4,\n    style: {\n      width: '25%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, \"Role\"), __jsx(\"th\", {\n    rowSpan: 2,\n    style: {\n      width: '10%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, \"Edit Roles\"))), isSuperAdmin(admin) && __jsx(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, __jsx(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, \"Client\"), __jsx(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, \"Editor\"), __jsx(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, \"Admin\"), __jsx(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, \"Super\"))), __jsx(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, data && data.users.map(function (user) {\n    return __jsx(AdminRow, {\n      user: user,\n      key: user.id,\n      admin: admin,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    });\n  }))));\n};\n\n_s(Admin, \"tP+6C5plfRwxqCbBj3cMUcL7Opk=\", false, function () {\n  return [useQuery];\n});\n\n_c3 = Admin;\nexport default Admin;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Div\");\n$RefreshReg$(_c2, \"Table\");\n$RefreshReg$(_c3, \"Admin\");","map":{"version":3,"sources":["C:/Users/AKIRA/Desktop/web-demo/Project/Frontend-next-js-V1/src/components/Admin.tsx"],"names":["React","useQuery","styled","Loader","AdminRow","QUERY_USERS","isSuperAdmin","Div","div","Table","table","props","theme","colors","lightGrey","teal","lighterGrey","Admin","admin","fetchPolicy","data","loading","error","width","users","map","user","id"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { useQuery } from '@apollo/client'\r\nimport styled from 'styled-components'\r\nimport Loader from 'react-loader-spinner'\r\n\r\nimport AdminRow from './AdminRow'\r\nimport { QUERY_USERS } from '../apollo/queries'\r\nimport { User } from '../types'\r\nimport { isSuperAdmin } from '../helpers/authHelpers'\r\n\r\nconst Div = styled.div`\r\n  width: 100%;\r\n`\r\n\r\nconst Table = styled.table`\r\n  width: 100%;\r\n  border-spacing: 0;\r\n  border-collapse: collapse;\r\n\r\n  /* thead {\r\n    border: 1px solid ${(props) => props.theme.colors.lightGrey};\r\n  } */\r\n\r\n  th {\r\n    border: 1px solid ${(props) => props.theme.colors.lightGrey};\r\n    margin: 0;\r\n   font-weight: 800;\r\n  }\r\n\r\n  td {\r\n   border: 1px solid ${(props) => props.theme.colors.lightGrey};\r\n    margin: 0;\r\n    padding: 0.5rem;\r\n   font-weight: 400;\r\n   text-align: center;\r\n\r\n   .true {\r\n      color: ${(props) => props.theme.colors.teal};\r\n   }\r\n\r\n   .false {\r\n      color: red;\r\n   }\r\n\r\n   .role_action {\r\n      margin: 0;\r\n      padding: 0;\r\n      display: flex;\r\n      justify-content: space-around;\r\n      border: none;\r\n\r\n      button {\r\n        margin: 0;\r\n        padding: 0.3rem;\r\n      }\r\n    }\r\n  }\r\n\r\n  .td_role {\r\n     background: ${(props) => props.theme.colors.lighterGrey};\r\n  }\r\n`\r\n\r\nconst Admin: React.FC<{ admin: User | null }> = ({ admin }) => {\r\n  const { data, loading, error } = useQuery<{ users: User[] }>(QUERY_USERS, {\r\n    fetchPolicy: 'network-only',\r\n  })\r\n\r\n  return loading ? (\r\n    <Loader type='Oval' color='teal' width={50} height={50} timeout={30000} />\r\n  ) : error ? (\r\n    <p>Sorry, something went wrong</p>\r\n  ) : (\r\n    <Div>\r\n      <h3>Permission Management</h3>\r\n      <Table>\r\n        <thead>\r\n          <tr>\r\n            {/* Header */}\r\n            <th rowSpan={2} style={{ width: '25%' }}>\r\n              Name\r\n            </th>\r\n            <th rowSpan={2} style={{ width: '20%' }}>\r\n              Email\r\n            </th>\r\n            <th rowSpan={2} style={{ width: '15%' }}>\r\n              Created At\r\n            </th>\r\n            {isSuperAdmin(admin) && (\r\n              <>\r\n                <th colSpan={4} style={{ width: '25%' }}>\r\n                  Role\r\n                </th>\r\n                <th rowSpan={2} style={{ width: '10%' }}>\r\n                  Edit Roles\r\n                </th>\r\n              </>\r\n            )}\r\n          </tr>\r\n\r\n          {/* Edit Roles Sub Headers */}\r\n          {isSuperAdmin(admin) && (\r\n            <tr>\r\n              <th>Client</th>\r\n              <th>Editor</th>\r\n              <th>Admin</th>\r\n              <th>Super</th>\r\n            </tr>\r\n          )}\r\n        </thead>\r\n\r\n        <tbody>\r\n          {data &&\r\n            data.users.map((user) => (\r\n              <AdminRow user={user} key={user.id} admin={admin} />\r\n            ))}\r\n        </tbody>\r\n      </Table>\r\n    </Div>\r\n  )\r\n}\r\n\r\nexport default Admin\r\n"]},"metadata":{},"sourceType":"module"}